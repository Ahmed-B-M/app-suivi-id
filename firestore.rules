/**
 * @fileoverview Firestore Security Rules for Urbantz API Data
 *
 * Core Philosophy:
 * This ruleset provides open access to data fetched from the Urbantz API.
 * This is appropriate for prototyping, but should be locked down in a production environment.
 *
 * Data Structure:
 * Data is organized into top-level collections: /hubs/{hubId}, /customers/{customerId}, /tasks/{taskId}, and /rounds/{roundId}.
 *
 * Key Security Decisions:
 *  - All `get` and `list` operations are allowed for all users (including unauthenticated users) to facilitate public data access.
 *  - Write operations (`create`, `update`, `delete`) are denied for all users. This prevents unauthorized modifications to the data.
 *
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Grants public read access to hubs and denies all write access.
     * @path /hubs/{hubId}
     * @allow (get, list) Any user can read hub data.
     * @deny (create, update, delete) No user can create, update, or delete hub data.
     * @principle Allows public read access for prototyping but denies all writes.
     */
    match /hubs/{hubId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Grants public read access to customers and denies all write access.
     * @path /customers/{customerId}
     * @allow (get, list) Any user can read customer data.
     * @deny (create, update, delete) No user can create, update, or delete customer data.
     * @principle Allows public read access for prototyping but denies all writes.
     */
    match /customers/{customerId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Grants public read access to tasks and denies all write access.
     * @path /tasks/{taskId}
     * @allow (get, list) Any user can read task data.
     * @deny (create, update, delete) No user can create, update, or delete task data.
     * @principle Allows public read access for prototyping but denies all writes.
     */
    match /tasks/{taskId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

    /**
     * @description Grants public read access to rounds and denies all write access.
     * @path /rounds/{roundId}
     * @allow (get, list) Any user can read round data.
     * @deny (create, update, delete) No user can create, update, or delete round data.
     * @principle Allows public read access for prototyping but denies all writes.
     */
    match /rounds/{roundId} {
      allow get, list: if true;
      allow create, update, delete: if false;
    }

        /**
     * @description Grants public read access to tickets and denies all write access.
     * @path /tickets/{ticketId}
     * @allow (get, list) Any user can read ticket data.
     * @deny (create, update, delete) No user can create, update, or delete ticket data.
     * @principle Allows public read access for prototyping but denies all writes.
     */
        match /tickets/{ticketId} {
            allow get, list: if true;
            allow create, update, delete: if false;
        }

  }
}