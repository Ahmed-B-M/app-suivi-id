/**
 * @fileoverview Firestore Security Rules for Urbantz API data.
 *
 * Core Philosophy:
 * This ruleset provides open read access to all data while restricting write access completely.
 * This allows any user to read tasks and rounds data, but prevents any unauthorized modifications.
 *
 * Data Structure:
 * The data is stored in two top-level collections: `/tasks/{taskId}` and `/rounds/{roundId}`.
 *
 * Key Security Decisions:
 * - No write access is granted to any user. All create, update, and delete operations are denied.
 * - Read access (get, list) is public for all users, including unauthenticated users.
 *
 * Authorization Independence:
 * The rules are designed to be authorization-independent, meaning they do not rely on user authentication for read access.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows anyone to read tasks, but forbids any writes.
     * @path /tasks/{taskId}
     * @allow (get, list) Any user can read task data.
     * @deny (create, update, delete) No user can create, update, or delete task data.
     * @principle Allows public read access while preventing unauthorized writes.
     */
    match /tasks/{taskId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }

    /**
     * @description Allows anyone to read rounds, but forbids any writes.
     * @path /rounds/{roundId}
     * @allow (get, list) Any user can read round data.
     * @deny (create, update, delete) No user can create, update, or delete round data.
     * @principle Allows public read access while preventing unauthorized writes.
     */
    match /rounds/{roundId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }
  }
}