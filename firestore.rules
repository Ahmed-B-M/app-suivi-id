/**
 * @fileoverview Firestore Security Rules for Urbantz API Data.
 *
 * Core Philosophy:
 * This ruleset allows completely open access to the `tasks` and `rounds` collections.
 * This assumes that all data stored in these collections is intended to be public.
 *
 * Data Structure:
 * - /tasks/{taskId}: Stores task data.
 * - /rounds/{roundId}: Stores round data.
 *
 * Key Security Decisions:
 * - Unrestricted read and write access to all documents. This is acceptable ONLY if all data is considered public.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows anyone to read or write tasks.
     * @path /tasks/{taskId}
     * @allow (get, list) - Any user can read any task.
     * @allow (create, update, delete) - Any user can create, update, or delete any task.
     * @deny None
     * @principle Open access for all users.
     */
    match /tasks/{taskId} {
      allow get, list: if true;
      allow create: if true;
      allow update: if true;
      allow delete: if true;
    }

    /**
     * @description Allows anyone to read or write rounds.
     * @path /rounds/{roundId}
     * @allow (get, list) - Any user can read any round.
     * @allow (create, update, delete) - Any user can create, update, or delete any round.
     * @deny None
     * @principle Open access for all users.
     */
    match /rounds/{roundId} {
      allow get, list: if true;
      allow create: if true;
      allow update: if true;
      allow delete: if true;
    }
  }
}